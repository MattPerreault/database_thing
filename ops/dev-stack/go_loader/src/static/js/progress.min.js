form.addEventListener("submit",e=>{e.preventDefault();const s=new FormData(form),t=new XMLHttpRequest;t.open("POST","/upload",!0),t.upload.onprogress=function(e){e.lengthComputable&&(progressContainer.style.display="block",progressBar.style.width=`${e.loaded/e.total*100}%`)},t.onloadstart=function(){form.style.opacity=.5,successMessage.style.display="none",errorMessage.style.display="none",progressContainer.style.display="block"},t.onload=function(){form.style.opacity=1,200===this.status?(progressContainer.style.display="none",progressBar.style.width="0%",successMessage.textContent="File Uploaded Successfully",successMessage.style.display="block",form.reset()):(errorMessage.textContent=this.responseText,errorMessage.style.display="block")},t.send(s)});